

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage &mdash; PhyloRelief 1.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PhyloRelief 1.2 documentation" href="index.html" />
    <link rel="next" title="Example" href="example.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="example.html" title="Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PhyloRelief 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">Â¶</a></h1>
<p>PhyloRelief is distributed as a command line application.
You can run <tt class="docutils literal"><span class="pre">phylorelief</span> <span class="pre">--help</span></tt> in order to show a summary of options:</p>
<div class="highlight-text"><div class="highlight"><pre>$ phylorelief --help
usage: phylorelief otu_table tree sample_data target [options]

PhyloRelief v1.1. Phylogenetic-based Relief for clade weighting
and OTU ranking.

positional arguments:
  otu_table             an OTU table file (containing the number of sequences
                        observed in each OTU for each sample) in tab-delimited
                        format
  tree                  a (rooted) tree in &#39;newick&#39; or &#39;nexus&#39; format (see
                        --tree-format option). Note that all the leaf nodes
                        should have univocal names
  sample_data           a tab-delimited file containing sample information and
                        metadata
  target                sample data column to be used as class label

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         show program&#39;s version number and exit
  -f {newick,nexus}, --tree-format {newick,nexus}
                        tree format (default newick)
  -u {unweighted,weighted,generalized}, --uf-variant {unweighted,weighted,generalized}
                        unifrac variant (default weighted)
  -k N_NEAREST_NEIGHBORS, --n-nearest-neighbors N_NEAREST_NEIGHBORS
                        number of nearest neighbors (default 2)
  -a ALPHA, --alpha ALPHA
                        alpha for generalized unifrac (default 0.5)
  -i N_ITERATIONS, --n-iterations N_ITERATIONS
                        number of iterations (default number of samples)
  -o OUT, --out OUT     clade ranking output file (default
                        out_phylorelief.txt)
  -t TREE_OUT, --tree_out TREE_OUT
                        annotated tree (BEAST/FigTree style) in nexus format
                        (default tree_phylorelief.tre)

Example:

    $ phylorelief otu_table.txt tree.tre sample_data.txt Status -k 1

Authors:
    Davide Albanese &lt;davide.albanese@fmach.it&gt;
    Claudio Donati &lt;claudio.donati@fmach.it&gt;

Fondazione Edmund Mach, 2013
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">phylorelief</span></tt> application takes four required inputs, three files and
a target name:</p>
<blockquote>
<div><dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">tree</span></tt></dt>
<dd><p class="first">A (rooted) tree in <tt class="docutils literal"><span class="pre">newick</span></tt> format.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that all the leaf nodes should have univocal names.</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">otu_table</span></tt></dt>
<dd><p class="first">An OTU table (containing the number of sequences observed in each OTU
for each sample) in <strong>tab-delimited</strong> format, OTU (rows) x sample
(columns) orientation:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="26%" />
<col width="26%" />
<col width="26%" />
<col width="10%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>OTU</td>
<td>SampleName1</td>
<td>SampleName2</td>
<td>SampleName3</td>
<td>...</td>
</tr>
<tr class="row-even"><td>OTU1</td>
<td>22</td>
<td>3</td>
<td>6</td>
<td>...</td>
</tr>
<tr class="row-odd"><td>OTU2</td>
<td>10</td>
<td>45</td>
<td>340</td>
<td>...</td>
</tr>
<tr class="row-even"><td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p>OTU names must correspond to the leaf names in the tree.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A rarefied OTU table should be used in order to remove sample
heterogeneity.</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">sample_table</span></tt></dt>
<dd><p class="first">A <strong>tab-delimited</strong> file containing sample information and metadata (e.g.
health status):</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="25%" />
<col width="25%" />
<col width="14%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Sample</td>
<td>Status</td>
<td>Treated</td>
<td>...</td>
</tr>
<tr class="row-even"><td>SampleName1</td>
<td>Case</td>
<td>Yes</td>
<td>...</td>
</tr>
<tr class="row-odd"><td>SampleName2</td>
<td>Control</td>
<td>No</td>
<td>...</td>
</tr>
<tr class="row-even"><td>SampleName3</td>
<td>Case</td>
<td>No</td>
<td>...</td>
</tr>
<tr class="row-odd"><td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
<p class="last">Sample names must correspond to the sample names in the OTU table.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">target</span></tt></dt>
<dd>A <tt class="docutils literal"><span class="pre">sample_table</span></tt> column to be used as class label (e.g. &#8216;Status&#8217; or
&#8216;Treated&#8217; in the example above)</dd>
</dl>
</div></blockquote>
<p>The application outputs two files, a clade ranking file and a annotated tree
in nexus format:</p>
<blockquote>
<div><p>Clade ranking file</p>
<blockquote>
<div><p>A clade ranking file is a tab-delimited file with five
columns. The clades are ranked in decreasing order according the
weight assigned by the algorithm. The first column contains the
PhyloRelief weights, the 2nd, 3rd and 4th columns contain the
statistics, the p-values and the FDR corrected p-values of the
Kruskal-Wallis test and the last column contains the OTU names
(comma separated) forming the corresponding clade:</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="16%" />
<col width="13%" />
<col width="14%" />
<col width="27%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>phylorelief_weight</td>
<td>kw_stats</td>
<td>kw_p</td>
<td>kw_padj</td>
<td>OTUs</td>
</tr>
<tr class="row-even"><td>0.8633</td>
<td>0.8597</td>
<td>0.0225</td>
<td>0.0589</td>
<td>OTU34,OTU2,OTU8</td>
</tr>
<tr class="row-odd"><td>0.6402</td>
<td>6.2530</td>
<td>0.0012</td>
<td>0.0242</td>
<td>OTU12,OTU11</td>
</tr>
<tr class="row-even"><td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="docutils">
<dt>Annotated tree file</dt>
<dd>An annotated tree (BEAST/FigTree style) in nexus format.
In this file <strong>each node</strong> in the tree is annotated with two metadata:
<tt class="docutils literal"><span class="pre">phylorelief_weight</span></tt> and <tt class="docutils literal"><span class="pre">phylorelief_rank</span></tt>. <tt class="docutils literal"><span class="pre">phylorelief_weight</span></tt>
contains the weights assigned by phylorelief to the clade starting from
the node and <tt class="docutils literal"><span class="pre">phylorelief_rank</span></tt> contains the clade ranking position.</dd>
</dl>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="example.html"
                        title="next chapter">Example</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="example.html" title="Example"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">PhyloRelief 1.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Davide Albanese, Claudio Donati.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>